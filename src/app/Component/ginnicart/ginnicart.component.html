<div class="containerbox">
   

     <!-- Check if cart has items -->
     <ng-container *ngIf="products.length > 0; else emptyCart">
        <div class="header">
            <h1>My Cart</h1>
            <button (click)="removeAllItem()">Empty Cart</button>
        </div>

        <div class="middle">
            <div class="middleleft">
                <div class="middlelefttop">
                    <div class="middlelefttopproduct">
                        <h6>Product</h6>
                    </div>
    
                    <div class="middlelefttopcombine">
                        <h6>Quantity</h6>
                        <h6>Total</h6>
                        <h6>Action</h6>
                    </div>
                </div>
    
                <div class="middleleftmain" *ngFor="let item of products; let i = index">
                    <div class="middleleftmainproduct">
                        <div class="middleleftmainproductimages">
                            <img src="../../assets/images/logo/freshcart-logo.jpeg" alt="" style="height: 5rem; width: 5rem;">
                        </div>
    
                        <div class="middleleftmainproductnaming">
                            <div class="middleleftmainproductname">
                                <a  [routerLink]="['/main/ginnimainproduct', item.productName]">{{item.productName}}</a>
                            </div>
    
                            <div class="middleleftmainproductprice">
                                <h6>Rs {{item.price}}</h6>
                                <!-- <p><del>{{item.discount}}</del></p> -->
                            </div>
                        </div>
                    </div>
    
                    <div class="middleleftmaincombine">
                        <div class="middleleftmainquantity">
                            <div class="middleleftmainquantityincrement">
                                <!-- <i class="fa fa-minus" (click)="decrementQuantity(item)" style="border: 1px solid; border-radius: 50%;"></i> -->
                                <h1 (click)="decrementQuantity(item)" style="border: 1px solid; font-size: larger; padding: 5% 10%; cursor: pointer; border-color: rgb(184, 181, 178);"><b>-</b></h1>
                                <h6 style="border: 1px solid; font-size: larger; padding: 5% 10%; border-color: rgb(184, 181, 178);"> {{item.quantity}}</h6>
                                <h1 (click)="incrementQuantity(item)" style="border: 1px solid; font-size: larger; padding: 5% 10%; cursor: pointer; border-color: rgb(184, 181, 178);"><b>+</b></h1>
                                <!-- <i class="fa fa-plus" (click)="incrementQuantity(item)"></i> -->                                
                            </div>
    
                            <div class="middleleftmainquantityremove">
                                <a (click)="removeItem(item)" style="text-decoration: underline; cursor: pointer;">Remove</a>
                            </div>
                        </div>
    
                        <div class="middleleftmaintotal">
                            <h6>Rs {{item.totalPrice}}</h6>
                        </div>
    
                        <div class="middleleftmainaction">
                            <button (click)="initiatesPayment(item.totalPrice)">Buy Now</button>
                            <button (click)="addToWishlistAndRemoveFromCart(item)">Add to Wishlist</button>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="middleright">
                <div class="middlerighttop">
                    <div class="middlerighttoptotal">
                        <h6>Total</h6>
                        <h6>Rs. {{ getTotalPrice() }}</h6>
                    </div>
    
                    <div class="middlerighttopsave">
                        <h6>You saved Rs. {{getTotalPrice()}} !</h6>
                    </div>
                </div>
    
                <div class="middlerightmain">
                    <p>Tax included. Discounts can be applied at checkout</p>
                </div>
    
                <div class="middlerightbottom">
                    <button (click)="initiatePayment()">Checkout</button>
                </div>
            </div>
        </div>
    </ng-container>

    <!-- Empty cart message -->
    <ng-template #emptyCart>
        <div class="empty-cart">
            <img src="../../assets/images/png/emptycart.png" alt="Cart Icon">
            <p>Oops! Your cart is empty!</p>
            <p>Looks like you have not added anything in your cart.</p>
            <button routerLink="/main/ginnidryfruit">Shop Now</button>
        </div>
    </ng-template>
   

    <div class="footer">
        <div class="footertop">
            <h5>BestSellers</h5>
        </div>

        <div class="footerbottom">
            <div class="almond" *ngFor = "let item of productlist">
                <div class="image">
                    <div class="saving">
                        <h6>{{ item.discount }}</h6>
                        <i class="fa fa-heart-o" (click)="addToWishlist(item)"    *ngIf="!item.wishlistStatus"  style="font-size:24px" ></i>
                        <i class="fa fa-heart" (click)="removeToWishlist(item)"   *ngIf="item.wishlistStatus"  style="font-size:24px"></i>
                    </div>
                    <img src="../../assets/images/logo/almond.jpeg" alt="Almond">               
                </div>
            
                <div class="naming">
                    <a href=""><h5>{{ item.productName }}</h5></a>
                </div>
            
                <div class="pricing">
                    <h5>Rs {{ item.price }}</h5>
                </div>
            
                <div class="carting">
                    <button (click)="addToCart(item)">Add to Cart</button>
                </div>
            </div>     

        </div>
    </div>
</div>